<mat-card>
  <mat-card-content>
    <div class="alert info">
      <mat-icon class="icon">info</mat-icon> &nbsp;
      <span>{{ "inscripcion.alerta_formacion" | translate }}</span>
    </div>
    <mat-tab-group
      fullWidth
      [selectedIndex]="selected"
      (selectedTabChange)="tabChanged($event)"
    >
      <mat-tab label="{{ 'GLOBAL.lista' | translate }}">
        <button
          class="margin-y"
          (click)="onCreate()"
          mat-flat-button
          color="accent"
        >
          <mat-icon>add</mat-icon>
          {{ "GLOBAL.agregar" | translate }}
        </button>

        <div class="table mat-elevation-z8">
          <mat-table [dataSource]="dataSource" class="demo-table">
            <ng-container matColumnDef="nit">
              <mat-header-cell *matHeaderCellDef
                ><b> {{ "GLOBAL.nit" | translate }}</b>
              </mat-header-cell>
              <mat-cell *matCellDef="let row"> {{ row.Nit }} </mat-cell>
            </ng-container>

            <ng-container matColumnDef="nombre">
              <mat-header-cell *matHeaderCellDef
                ><b>{{ "GLOBAL.nombre_universidad" | translate }}</b>
              </mat-header-cell>
              <mat-cell *matCellDef="let row">
                {{ row.NombreCompleto }}
              </mat-cell>
            </ng-container>

            <ng-container matColumnDef="pais">
              <mat-header-cell *matHeaderCellDef
                ><b>{{ "GLOBAL.pais_universidad" | translate }}</b>
              </mat-header-cell>
              <mat-cell *matCellDef="let row"> {{ row.Ubicacion }} </mat-cell>
            </ng-container>

            <ng-container matColumnDef="programa">
              <mat-header-cell *matHeaderCellDef
                ><b>{{ "GLOBAL.programa_academico" | translate }}</b>
              </mat-header-cell>
              <mat-cell *matCellDef="let row">
                {{ row.ProgramaAcademico.Nombre }}
              </mat-cell>
            </ng-container>

            <ng-container matColumnDef="fecha_inicio">
              <mat-header-cell *matHeaderCellDef
                ><b>{{ "GLOBAL.fecha_inicio" | translate }}</b>
              </mat-header-cell>
              <mat-cell *matCellDef="let row">
                {{ row.FechaInicio }}
              </mat-cell>
            </ng-container>

            <ng-container matColumnDef="fecha_fin">
              <mat-header-cell *matHeaderCellDef
                ><b>{{ "GLOBAL.fecha_fin" | translate }}</b>
              </mat-header-cell>
              <mat-cell *matCellDef="let row">
                {{ row.FechaFinalizacion }}
              </mat-cell>
            </ng-container>

            <ng-container matColumnDef="estado">
              <mat-header-cell *matHeaderCellDef
                ><b>{{ "admision.estado" | translate }}</b>
              </mat-header-cell>
              <mat-cell *matCellDef="let row"> {{ row.Estado }} </mat-cell>
            </ng-container>

            <ng-container matColumnDef="observacion">
              <mat-header-cell *matHeaderCellDef
                ><b>{{ "admision.observacion" | translate }}</b>
              </mat-header-cell>
              <mat-cell *matCellDef="let row">
                {{ row.Observacion }}
              </mat-cell>
            </ng-container>

            <ng-container matColumnDef="acciones">
              <mat-header-cell *matHeaderCellDef
                ><b>{{ "GLOBAL.acciones" | translate }}</b>
              </mat-header-cell>
              <mat-cell *matCellDef="let row">
                <button mat-icon-button color="accent" (click)="onEdit(row)">
                  <mat-icon>edit_outline</mat-icon>
                </button>
                <button mat-icon-button color="warn" (click)="onDelete(row)">
                  <mat-icon>delete_outline</mat-icon>
                </button>
              </mat-cell>
            </ng-container>
            <mat-header-row
              *matHeaderRowDef="displayedColumns"
              class="encabezado"
            ></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
          </mat-table>
        </div>
      </mat-tab>
      <mat-tab label="{{ 'GLOBAL.formulario' | translate }}">
        <div *ngIf="selected == 1">
          <ngx-crud-formacion-academica
            [info_formacion_academica_id]="uid"
            [info_proyecto_id]="pid"
            [info_id_formacion]="id"
            [edit_status]="UpdateInfo"
            (eventChange)="onChange($event)"
            (result)="getPercentage($event)"
            (updateFormacion)="ngOnInit()"
          >
          </ngx-crud-formacion-academica>
          <button (click)="irAIndexTab(0)" mat-flat-button color="primary">
            <mat-icon>arrow_back_ios</mat-icon>
            <p class="mt-1">{{ "GLOBAL.regresar" | translate }}</p>
          </button>
        </div>
      </mat-tab>
    </mat-tab-group>
  </mat-card-content>
</mat-card>
